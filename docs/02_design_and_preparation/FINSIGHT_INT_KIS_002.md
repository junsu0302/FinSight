# 외부 시스템 연동 명세서 (External System Interface Specification)

| **문서 정보**   |                                            |
| :-------------- | :----------------------------------------- |
| **문서 ID**     | FINSIGHT-INT-KIS-002                       |
| **문서 버전**   | 1.0                                        |
| **프로젝트**    | FinSight                                   |
| **작성자**      | 김준수                                     |
| **작성일**      | 2025년 9월 3일                             |
| **연동 시스템** | 한국투자증권 Open API (KIS API) - 해외주식 |

---

## 1. 문서 개요

본 문서는 FinSight 프로젝트의 '안정적인 포트폴리오 구성' 목표 달성을 위해, 한국투자증권 Open API의 **해외주식(미국 중심) 데이터** 중 활용할 기능(API)을 식별하고, 각 기능의 활용도와 목적을 정의하는 것을 목적으로 한다. 이 명세는 '데이터 수집 파이프라인' 설계 및 구현의 기준 문서로 사용된다.

---

## 2. 활용도 평가 기준

- **[필수]**: 프로젝트의 핵심 기능(종목 선별, 백테스팅, 섹터 분석) 구현에 없어서는 안 될 데이터.
- **[상]**: 분석의 깊이와 포트폴리오 모델의 성능을 크게 향상시키는 중요한 데이터.
- **[중]**: 특정 분석 주제나 보조 지표 생성에 유용한 데이터.
- **[하]**: 장기 포트폴리오 전략과의 관련성이 낮은 단기/특수 목적 데이터.
- **[불필요]**: 프로젝트 목표와 직접적인 관련이 없는 데이터. (본 문서에서는 생략)

---

## 3. API 연동 목록

### 3.1. [해외주식] 기본시세

| API 기능                                       | 활용도   | 활용 목적                                                                                                    |
| :--------------------------------------------- | :------- | :----------------------------------------------------------------------------------------------------------- |
| 해외주식 현재가상세                            | **중**   | 현재 시장의 스냅샷 확인 및 포트폴리오 모니터링 대시보드 구현 시 활용.                                        |
| 해외주식 현재가 1호가                          | **하**   | 실시간 호가 정보로, 단기 유동성 분석 외에는 장기 전략과의 관련성이 낮음.                                     |
| 해외주식 현재체결                              | **하**   | 실시간 체결 데이터는 단기 트레이딩 분석용으로, 본 프로젝트의 분석 주기와 맞지 않음.                          |
| 해외주식 체결추이                              | **하**   | 장중 체결 강도 분석용 데이터로 활용도가 낮음.                                                                |
| 해외주식분봉조회                               | **하**   | 분 단위 데이터는 저빈도 리밸런싱 전략에 불필요하며, 노이즈가 많음.                                           |
| 해외지수분봉조회                               | **하**   | 해외 주요 지수의 분봉 데이터로, 위와 동일한 이유로 활용도 낮음.                                              |
| 해외주식 기간별시세                            | **필수** | **(핵심 시계열 API)** 종목별 과거 일봉(OHLCV) 데이터를 확보하는 가장 기본적인 방법.                          |
| 해외주식 종목/지수/환율기간별시세(일/주/월/년) | **필수** | **(핵심 시계열 API)** 종목, 지수, 환율 데이터를 유연하게 조회하여 기술적 피처 생성 및 거시 경제 분석에 사용. |
| 해외결제일자조회                               | **상**   | 해외 휴장일 정보를 확인하여 데이터 수집 파이프라인의 스케줄링 오류를 방지하고 안정성을 확보.                 |
| 해외주식 상품기본정보                          | **필수** | **(핵심 마스터 API)** 모든 해외 자산의 기준 정보(종목명, ISIN 등)를 담는 마스터 테이블 구축의 기반.          |
| 해외주식 업종별시세                            | **필수** | 섹터별 과거 성과 및 변동성을 분석하여 '자산 배분' 전략에 활용하는 핵심 데이터.                               |
| 해외주식 업종별코드조회                        | **상**   | 업종별 분석을 위해 업종 코드를 조회하는 유틸리티 API로, 데이터 분류 시 필수적.                               |

### 3.2. [해외주식] 시세분석

| API 기능                | 활용도   | 활용 목적                                                                                                           |
| :---------------------- | :------- | :------------------------------------------------------------------------------------------------------------------ |
| 해외주식 가격급등락     | **중**   | 개별 종목의 극단적 변동성을 감지하는 '이벤트 피처'로 생성하여 리스크 관리 모델에 활용.                              |
| 해외주식 거래량급증     | **중**   | 비정상적인 거래량 변화를 감지하여 유동성 리스크나 특정 이벤트 발생의 신호로 활용.                                   |
| 해외주식 상승율/하락율  | **중**   | 시장의 단기 모멘텀을 파악하고, 특정 스타일 팩터(예: 모멘텀)의 성과를 측정하는 데 사용.                              |
| 해외주식 신고/신저가    | **상**   | 52주 신고/신저가 정보는 추세 기반의 '모멘텀' 팩터를 생성하는 데 매우 유용한 지표.                                   |
| 해외주식 거래량순위     | **상**   | 유동성이 낮은 종목을 투자 대상에서 제외하는 필터링 조건으로 사용하여 거래 비용 리스크를 관리.                       |
| 해외주식 거래대금순위   | **상**   | 거래대금 상위 종목은 시장의 관심도를 나타내므로, 유동성 및 관심도 팩터로 활용.                                      |
| 해외주식 거래증가율순위 | **중**   | 단기적인 수급 변화를 파악하는 보조 지표로 활용.                                                                     |
| 해외주식 거래회전율순위 | **상**   | 회전율은 시장 참여자의 관심도를 나타내는 지표로, 과열 또는 소외 여부를 판단하는 피처로 활용.                        |
| 해외주식 시가총액순위   | **필수** | 기업 규모(Size)는 포트폴리오 구성의 핵심 팩터 중 하나이며, 투자 유니버스 설정에 필수적.                             |
| 해외주식 기간별권리조회 | **필수** | 배당, 액면분할 등 권리 정보를 정확히 반영하여 백테스트 시 총수익률(Total Return)을 계산하는 데 필수.                |
| 해외뉴스종합(제목)      | **필수** | **(핵심 비정형 데이터 API)** 뉴스 제목을 수집하여 P4 단계의 LLM 기반 이벤트 피처 및 감성 분석의 원천 데이터로 사용. |
| 해외주식 권리종합       | **필수** | 위 '기간별권리조회'와 동일한 목적으로, 데이터 수집의 안정성을 위해 교차 확인용으로 활용 가능.                       |
| 해외속보(제목)          | **필수** | **(핵심 비정형 데이터 API)** '해외뉴스종합'과 함께 시의성 있는 뉴스 데이터를 확보하는 핵심 소스.                    |

### 3.3. [해외주식] 실시간시세

| API 기능                  | 활용도 | 활용 목적                                                                                 |
| :------------------------ | :----- | :---------------------------------------------------------------------------------------- |
| 해외주식 실시간호가       | **하** | 실시간 호가 데이터는 초단타 및 고빈도 매매 영역으로, 분기 리밸런싱 전략과는 무관.         |
| 해외주식 지연호가(아시아) | **하** | 위와 동일.                                                                                |
| 해외주식 실시간지연체결   | **하** | 실시간 체결 데이터는 장기 포트폴리오 분석에 불필요.                                       |
| 해외주식 실시간체결통보   | **하** | 실시간 데이터 스트리밍은 본 프로젝트의 배치(Batch) 기반 데이터 처리 아키텍처와 맞지 않음. |

### 3.4. [해외주식] 주문/계좌

- 해당 카테고리의 API(예: `해외주식 주문`, `잔고`, `주문체결내역` 등)는 실제 매매 실행 및 계좌 관리를 위한 기능입니다. FinSight 프로젝트의 현재 단계는 **데이터 분석 및 모델 개발**에 중점을 두므로, 데이터 수집 파이프라인 명세에서는 제외합니다. 추후 자동 리밸런싱 기능 구현 시 별도의 연동 명세서 작성이 필요합니다.
